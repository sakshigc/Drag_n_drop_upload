{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>uploader</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <link href="{% static 'css/bootstrap.css'%}" rel="stylesheet">
  <link href="{% static 'css/mdb.css'%}" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}" type="text/css">
  <link rel="stylesheet" href="{% static 'css/nice-select.css' %}" type="text/css">
  <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}" type="text/css">
  <link rel="stylesheet" href="{% static 'css/magnific-popup.css' %}" type="text/css">
  <link rel="stylesheet" href="{% static 'css/slicknav.min.css' %}" type="text/css">  
  <link rel="stylesheet" href="{% static 'css/denge.css' %}" type="text/css">
  <link href="{% static 'css/style.css'%}" rel="stylesheet">
  <style type="text/css">
    html,
    body,
    header,
    .carousel {
      height: 80vh;
    }

    @media (max-width: 740px) {

      html,
      body,
      header,
      .carousel {
        height: 80vh;
      }
    }

    @media (min-width: 800px) and (max-width: 850px) {

      html,
      body,
      header,
      .carousel {
        height: 80vh;
      }
    }
   /* #dropContainer
  {
    border:1px solid black;
    height:100px;
    font-size: 20px;

  }
  #holder
  {

    width:200px;
    height:200px;
    border: 5px solid #ccc
  }
*/
.dropzone{
   width:300px;
   height:300px;
   border:2px dashed #ccc;
   color:#ccc;
   line-height:300px;
   text-align:center;

 }
.dropzone.dragover{
    border-color:#000;
    color:#000;
 }
  </style>
</head>



<body class="black-background">

<div class="container text-center">
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
<!--     {{ form.as_p }} -->
    <input type="file" name="myfile">
    <div id="upload"></div>
<div class="dropzone" id="dropzone">Drop files here</div>
    <button type="submit">Upload</button>
  </form>



  <p><a href="/">Return to home</a></p>
</div>
<script>
// (function()
// {
//   var holder = document.getElementById('holder');

//   // var displayUploads = function(data)
//   // {
//   //   var uploads=document.getElementById('uploads'),
//   //   anchor,
//   //   x;
//   //   for(x = 0; x <data.length; x=x+1)
//   //   {
//   //     anchor=document.createElement('a');
//   //     anchor.href = data[x].file;
//   //     anchor.innerText = data[x].name;

//   //     uploads.appendChild(anchor);
//   //   }
//   // }

  


//   var readfiles = function(files){
//     var formData = new FormData(),
//     xhr = new XMLHttpRequest(),
//     x;
//     for(x = 0; x < files.length; x=x+1)
//     {
//       formData.append('file[]',files[x]);
//     }
//     xhr.onload = function()
//     {
//       var data = JSON.parse(this.responseText);
//       console.log(data);
//     }
//     // xhr.open('post','');
//     // xhr.send(formData)
//     }


//   holder.ondrop = function(e){
//     e.preventDefault();
//     this.className = 'holder';
//       readfiles(e.dataTransfer.files);
//   };
//   holder.ondragover = function (){ this.className = 'hover'; return false; };

//   holder.ondragleave=function () { this.className = 'holder'; return false; };

// --------------------------------------------
// function traverseFileTree(item, path) {
//   path = path || "";
//   if (item.isFile) {
    
//     item.file(function(file) {
//       console.log("File:", path + file.name);
//     });
//   } else if (item.isDirectory) {
    
//     var dirReader = item.createReader();
//     dirReader.readEntries(function(entries) {
//       for (var i=0; i<entries.length; i++) {
//         traverseFileTree(entries[i], path + item.name + "/");
//       }
//     });
//   }
// }

// dropArea.addEventListener("drop", function(event) {
//   event.preventDefault();

//   var items = event.dataTransfer.items;
//   for (var i=0; i<items.length; i++) {
    
//     var item = items[i].webkitGetAsEntry();
//     if (item) {
//       traverseFileTree(item);
//     }
//   }
// }, false);
// }());
// -------------------------------------------------------


(function(){
    var dropzone=document.getElementById('dropzone');


    dropzone.ondrop=function(e){
      fileinput.files=e.dataTransfer.files
      console.log(fileinput.files)
    // e.preventDefault();
    // this.className='dropzone';

    // x=e.dataTransfer.files
    };

    dropzone.ondragover=function(){
    this.className='dropzone dragover';
    return false;
    };

    dropzone.ondragleave=function(){
     this.className='dropzone';

     return false;
     };
    }());

</script>
</body>
</html>